---
title: 1.13 Arch搭建Nas系统之后篇：安全篇
date: 2024-10-01T12:27:28
lastmod: 2024-10-30
timezone: UTC+8
tags:
  - nas
categories: nas
draft: false
---


```
**5.1.2 安装openldap**

a) 安装Portainer
```
docker pull bitnami/openldap:latest
```

b) 使用docker-compose配置文件运行


```

mkdir -p /nas/openldap/data
vim /nas/openldap/docker-compose.yml


---
version: '2.1'


services:
  openldap:
    image: bitnami/openldap
    container_name: openldap
    privileged: true
    restart: unless-stopped
    ports:
      - '1389:1389'
      - '1636:1636' 
      - LDAP_ADMIN_USERNAME=admin
      - LDAP_ADMIN_PASSWORD=密码
      - LDAP_USERS=archnas
      - LDAP_PASSWORDS=密码
    volumes:
      - '/nas/openldap/data:/bitnami/openldap'

ldap-ui:
    image: dnknth/ldap-ui
    container_name: ldap-ui
    privileged: true
    restart: unless-stopped
    ports:
      - '5000:5000'
    links:
      - openldap
    environment:
      - LDAP_URL=ldap://openldap:1389/
      - BASE_DN=dc=example,dc=com
      - BIND_PATTERN=cn=%s,dc=example,dc=com      
```
运行服务
docker-compose up -d


c）使用
进入容器
sudo docker exec -it openldap /bin/bash